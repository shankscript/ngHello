<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfj7fgLotVj99oNEisNXm0vG1cd2xRyj4&signed_in=true">
    </script>
    <script type="text/javascript">
      
    function initialize() {

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            alert("Geolocation is not supported by this browser.");
        }

        function showPosition(p) {
            
            var position = p;
            
            var mapOptions = {
                center: { lat: position.coords.latitude, lng: position.coords.longitude},
                zoom: 18
            };
            
            var map = new google.maps.Map(document.getElementById('map-canvas'),
                mapOptions); 
            
            console.log(map);
            
            var marker = new google.maps.Marker({
                map: map,
                // A Place requires a place ID or Query string, and a Location.
                place: {
                        // ChIJN1t_tDeuEmsRUsoyG83frY4 is the place ID for Google Sydney
                        //placeId: 'ChIJN1t_tDeuEmsRUsoyG83frY4',
                        query: 'balaji casa blanca hope farm bangalore',
                        location: { lat: position.coords.latitude, lng: position.coords.longitude}
                    },
                // Attributions help users find your site again.
                attribution: {
                    source: 'shashanksharma.com shashank sharma shanksrepo',
                    webUrl: 'http://shashanksharma.com/maps/'
                }
            });

            // Construct a new InfoWindow.
            var infowindow = new google.maps.InfoWindow({
                content: "<h2>Info Window Sample</h2>"
            });

            // Opens the InfoWindow when marker is clicked.
            marker.addListener('click', function() {
                infowindow.open(map, marker);
            });
        }
    }

    google.maps.event.addDomListener(window, 'load', initialize);
  
    </script>
  </head>
  <body>
<div id="map-canvas"></div>
  </body>
</html>